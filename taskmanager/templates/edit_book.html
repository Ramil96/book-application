{% extends "base.html" %}
{% block content %}

<h3 class="light-green-text text-darken-4 center-align">Edit Book</h3>

<form method="POST" action="{{ url_for('edit_book', book_id=book.id) }}">
    <div class="input-field">
        <input id="title" name="title" type="text" value="{{ book.title }}" required>
        <label for="title" class="active">Book Title</label>
    </div>
    <div class="input-field">
        <select name="genre_id" required>
            {% for genre in genres %}
            <option value="{{ genre.id }}" {% if genre.id == book.genre_id %}selected{% endif %}>
                {{ genre.genre_name }}
            </option>
            {% endfor %}
        </select>
        <label for="genre">Genre</label>
    </div>
    <button type="submit" class="btn light-green darken-4">Update Book</button>
</form>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        var elems = document.querySelectorAll('select');
        M.FormSelect.init(elems);
    });
</script>

{% endblock %}
